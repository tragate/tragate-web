(function(n,t){typeof define=="function"&&define.amd?define([],t(n)):typeof exports=="object"?module.exports=t(n):n.iziToast=t(n)})(typeof global!="undefined"?global:window||this.window||this.global,function(){"use strict";var t={},n="iziToast",k=document.querySelector("body"),f=/Mobi/.test(navigator.userAgent)?!0:!1,v=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),y=typeof InstallTrigger!="undefined",e="ontouchstart"in document.documentElement,a=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],o=568,s={},h,l;t.children={};h={id:null,"class":"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"topRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});typeof CustomEvent!="function"&&(l=function(n,t){t=t||{bubbles:!1,cancelable:!1,detail:undefined};var i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),i},l.prototype=window.Event.prototype,window.CustomEvent=l);var i=function(n,t,i){var u,r,f;if(Object.prototype.toString.call(n)==="[object Object]")for(u in n)Object.prototype.hasOwnProperty.call(n,u)&&t.call(i,n[u],u,n);else if(n)for(r=0,f=n.length;r<f;r++)t.call(i,n[r],r,n)},r=function(n,t){var r={};return i(n,function(t,i){r[i]=n[i]}),i(t,function(n,i){r[i]=t[i]}),r},c=function(n){var i=document.createDocumentFragment(),t=document.createElement("div");for(t.innerHTML=n;t.firstChild;)i.appendChild(t.firstChild);return i},p=function(n){var t=btoa(encodeURIComponent(n));return t.replace(/=/g,"")},w=function(n){return n.substring(0,1)=="#"||n.substring(0,3)=="rgb"||n.substring(0,3)=="hsl"?!0:!1},b=function(n){try{return btoa(atob(n))==n}catch(t){return!1}},u=function(){return{move:function(t,i,u,f){var e,o=.3,s=180;f!==0&&(t.classList.add(n+"-dragged"),t.style.transform="translateX("+f+"px)",f>0?(e=(s-f)/s,e<o&&i.hide(r(u,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),t,"drag")):(e=(s+f)/s,e<o&&i.hide(r(u,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),t,"drag")),t.style.opacity=e,e<o&&((v||y)&&(t.style.left=f+"px"),t.parentNode.style.opacity=o,this.stopMoving(t,null)))},startMoving:function(n,t,i,r){var s,f,o;r=r||window.event;s=e?r.touches[0].clientX:r.clientX;f=n.style.transform.replace("px)","");f=f.replace("translateX(","");o=s-f;i.transitionIn&&n.classList.remove(i.transitionIn);i.transitionInMobile&&n.classList.remove(i.transitionInMobile);n.style.transition="";e?document.ontouchmove=function(r){r.preventDefault();r=r||window.event;var f=r.touches[0].clientX,e=f-o;u.move(n,t,i,e)}:document.onmousemove=function(r){r.preventDefault();r=r||window.event;var f=r.clientX,e=f-o;u.move(n,t,i,e)}},stopMoving:function(t){e?document.ontouchmove=function(){}:document.onmousemove=function(){};t.style.opacity="";t.style.transform="";t.classList.contains(n+"-dragged")&&(t.classList.remove(n+"-dragged"),t.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){t.style.transition=""},400))}}}();return t.setSetting=function(n,i,r){t.children[n][i]=r},t.getSetting=function(n,i){return t.children[n][i]},t.destroy=function(){i(document.querySelectorAll("."+n+"-overlay"),function(n){n.remove()});i(document.querySelectorAll("."+n+"-wrapper"),function(n){n.remove()});i(document.querySelectorAll("."+n),function(n){n.remove()});this.children={};document.removeEventListener(n+"-opened",{},!1);document.removeEventListener(n+"-opening",{},!1);document.removeEventListener(n+"-closing",{},!1);document.removeEventListener(n+"-closed",{},!1);document.removeEventListener("keyup",{},!1);s={}},t.settings=function(n){t.destroy();s=n;h=r(h,n||{})},i({info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},function(n,i){t[i]=function(t){var i=r(s,t||{});i=r(n,i||{});this.show(i)}}),t.progress=function(t,i,u){var o=this,s=i.getAttribute("data-iziToast-ref"),f=r(this.children[s],t||{}),e=i.querySelector("."+n+"-progressbar div");return{start:function(){typeof f.time.REMAINING=="undefined"&&(i.classList.remove(n+"-reseted"),e!==null&&(e.style.transition="width "+f.timeout+"ms "+f.progressBarEasing,e.style.width="0%"),f.time.START=(new Date).getTime(),f.time.END=f.time.START+f.timeout,f.time.TIMER=setTimeout(function(){clearTimeout(f.time.TIMER);i.classList.contains(n+"-closing")||(o.hide(f,i,"timeout"),typeof u=="function"&&u.apply(o))},f.timeout),o.setSetting(s,"time",f.time))},pause:function(){if(typeof f.time.START!="undefined"&&!i.classList.contains(n+"-paused")&&!i.classList.contains(n+"-reseted")){if(i.classList.add(n+"-paused"),f.time.REMAINING=f.time.END-(new Date).getTime(),clearTimeout(f.time.TIMER),o.setSetting(s,"time",f.time),e!==null){var t=window.getComputedStyle(e),r=t.getPropertyValue("width");e.style.transition="none";e.style.width=r}typeof u=="function"&&setTimeout(function(){u.apply(o)},10)}},resume:function(){typeof f.time.REMAINING!="undefined"?(i.classList.remove(n+"-paused"),e!==null&&(e.style.transition="width "+f.time.REMAINING+"ms "+f.progressBarEasing,e.style.width="0%"),f.time.END=(new Date).getTime()+f.time.REMAINING,f.time.TIMER=setTimeout(function(){clearTimeout(f.time.TIMER);i.classList.contains(n+"-closing")||(o.hide(f,i,"timeout"),typeof u=="function"&&u.apply(o))},f.time.REMAINING),o.setSetting(s,"time",f.time)):this.start()},reset:function(){clearTimeout(f.time.TIMER);delete f.time.REMAINING;o.setSetting(s,"time",f.time);i.classList.add(n+"-reseted");i.classList.remove(n+"-paused");e!==null&&(e.style.transition="none",e.style.width="100%");typeof u=="function"&&setTimeout(function(){u.apply(o)},10)}}},t.hide=function(t,i,u){var s,e,h,c;typeof i!="object"&&(i=document.querySelector(i));s=this;e=r(this.children[i.getAttribute("data-iziToast-ref")],t||{});e.closedBy=u||null;delete e.time.REMAINING;i.classList.add(n+"-closing"),function(){var i=document.querySelector("."+n+"-overlay"),t,r;i!==null&&(t=i.getAttribute("data-iziToast-ref"),t=t.split(","),r=t.indexOf(String(e.ref)),r!==-1&&t.splice(r,1),i.setAttribute("data-iziToast-ref",t.join()),t.length===0&&(i.classList.remove("fadeIn"),i.classList.add("fadeOut"),setTimeout(function(){i.remove()},700)))}();e.transitionIn&&i.classList.remove(e.transitionIn);e.transitionInMobile&&i.classList.remove(e.transitionInMobile);f||window.innerWidth<=o?e.transitionOutMobile&&i.classList.add(e.transitionOutMobile):e.transitionOut&&i.classList.add(e.transitionOut);h=i.parentNode.offsetHeight;i.parentNode.style.height=h+"px";i.style.pointerEvents="none";(!f||window.innerWidth>o)&&(i.parentNode.style.transitionDelay="0.2s");try{c=new CustomEvent(n+"-closing",{detail:e,bubbles:!0,cancelable:!0});document.dispatchEvent(c)}catch(l){console.warn(l)}setTimeout(function(){i.parentNode.style.height="0px";i.parentNode.style.overflow="";setTimeout(function(){delete s.children[e.ref];i.parentNode.remove();try{var t=new CustomEvent(n+"-closed",{detail:e,bubbles:!0,cancelable:!0});document.dispatchEvent(t)}catch(r){console.warn(r)}typeof e.onClosed!="undefined"&&e.onClosed.apply(null,[e,i,u])},1e3)},200);typeof e.onClosing!="undefined"&&e.onClosing.apply(null,[e,i,u])},t.show=function(l){var k=this,v=r(s,l||{}),y,d,g;if(v=r(h,v),v.time={},v.id===null&&(v.id=p(v.title+v.message+v.color)),v.displayMode===1||v.displayMode=="once")try{if(document.querySelectorAll("."+n+"#"+v.id).length>0)return!1}catch(tt){console.warn("["+n+"] Could not find an element with this selector: #"+v.id+". Try to set an valid id.")}if(v.displayMode===2||v.displayMode=="replace")try{i(document.querySelectorAll("."+n+"#"+v.id),function(n){k.hide(v,n,"replaced")})}catch(tt){console.warn("["+n+"] Could not find an element with this selector: #"+v.id+". Try to set an valid id.")}v.ref=(new Date).getTime()+Math.floor(Math.random()*1e7+1);t.children[v.ref]=v;y={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:v.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};y.toast.setAttribute("data-iziToast-ref",v.ref);y.toast.appendChild(y.toastBody);y.toastCapsule.appendChild(y.toast),function(){if(y.toast.classList.add(n),y.toast.classList.add(n+"-opening"),y.toastCapsule.classList.add(n+"-capsule"),y.toastBody.classList.add(n+"-body"),y.toastTexts.classList.add(n+"-texts"),f||window.innerWidth<=o?v.transitionInMobile&&y.toast.classList.add(v.transitionInMobile):v.transitionIn&&y.toast.classList.add(v.transitionIn),v.class){var t=v.class.split(" ");i(t,function(n){y.toast.classList.add(n)})}v.id&&(y.toast.id=v.id);v.rtl&&(y.toast.classList.add(n+"-rtl"),y.toast.setAttribute("dir","rtl"));v.layout>1&&y.toast.classList.add(n+"-layout"+v.layout);v.balloon&&y.toast.classList.add(n+"-balloon");v.maxWidth&&(y.toast.style.maxWidth=isNaN(v.maxWidth)?v.maxWidth:v.maxWidth+"px");(v.theme!==""||v.theme!=="light")&&y.toast.classList.add(n+"-theme-"+v.theme);v.color&&(w(v.color)?y.toast.style.background=v.color:y.toast.classList.add(n+"-color-"+v.color));v.backgroundColor&&(y.toast.style.background=v.backgroundColor,v.balloon&&(y.toast.style.borderColor=v.backgroundColor))}(),function(){v.image&&(y.cover.classList.add(n+"-cover"),y.cover.style.width=v.imageWidth+"px",y.cover.style.backgroundImage=b(v.image.replace(/ /g,""))?"url(data:image/png;base64,"+v.image.replace(/ /g,"")+")":"url("+v.image+")",v.rtl?y.toastBody.style.marginRight=v.imageWidth+10+"px":y.toastBody.style.marginLeft=v.imageWidth+10+"px",y.toast.appendChild(y.cover))}(),function(){v.close?(y.buttonClose=document.createElement("button"),y.buttonClose.type="button",y.buttonClose.classList.add(n+"-close"),y.buttonClose.addEventListener("click",function(n){var t=n.target;k.hide(v,y.toast,"button")}),y.toast.appendChild(y.buttonClose)):v.rtl?y.toast.style.paddingLeft="18px":y.toast.style.paddingRight="18px"}(),function(){v.progressBar&&(y.progressBar=document.createElement("div"),y.progressBarDiv=document.createElement("div"),y.progressBar.classList.add(n+"-progressbar"),y.progressBarDiv.style.background=v.progressBarColor,y.progressBar.appendChild(y.progressBarDiv),y.toast.appendChild(y.progressBar));v.timeout&&(v.pauseOnHover&&!v.resetOnHover&&(y.toast.addEventListener("mouseenter",function(){k.progress(v,y.toast).pause()}),y.toast.addEventListener("mouseleave",function(){k.progress(v,y.toast).resume()})),v.resetOnHover&&(y.toast.addEventListener("mouseenter",function(){k.progress(v,y.toast).reset()}),y.toast.addEventListener("mouseleave",function(){k.progress(v,y.toast).start()})))}(),function(){v.iconUrl?(y.icon.setAttribute("class",n+"-icon"),y.icon.setAttribute("src",v.iconUrl)):v.icon&&(y.icon.setAttribute("class",n+"-icon "+v.icon),v.iconText&&y.icon.appendChild(document.createTextNode(v.iconText)),v.iconColor&&(y.icon.style.color=v.iconColor));(v.icon||v.iconUrl)&&(v.rtl?y.toastBody.style.paddingRight="33px":y.toastBody.style.paddingLeft="33px",y.toastBody.appendChild(y.icon))}(),function(){v.title.length>0&&(y.strong=document.createElement("strong"),y.strong.classList.add(n+"-title"),y.strong.appendChild(c(v.title)),y.toastTexts.appendChild(y.strong),v.titleColor&&(y.strong.style.color=v.titleColor),v.titleSize&&(y.strong.style.fontSize=isNaN(v.titleSize)?v.titleSize:v.titleSize+"px"),v.titleLineHeight&&(y.strong.style.lineHeight=isNaN(v.titleSize)?v.titleLineHeight:v.titleLineHeight+"px"));v.message.length>0&&(y.p=document.createElement("p"),y.p.classList.add(n+"-message"),y.p.appendChild(c(v.message)),y.toastTexts.appendChild(y.p),v.messageColor&&(y.p.style.color=v.messageColor),v.messageSize&&(y.p.style.fontSize=isNaN(v.titleSize)?v.messageSize:v.messageSize+"px"),v.messageLineHeight&&(y.p.style.lineHeight=isNaN(v.titleSize)?v.messageLineHeight:v.messageLineHeight+"px"));v.title.length>0&&v.message.length>0&&(v.rtl?y.strong.style.marginLeft="10px":v.layout===2||v.rtl||(y.strong.style.marginRight="10px"))}();y.toastBody.appendChild(y.toastTexts),function(){v.inputs.length>0&&(y.inputs.classList.add(n+"-inputs"),i(v.inputs,function(t,i){y.inputs.appendChild(c(t[0]));d=y.inputs.childNodes;d[i].classList.add(n+"-inputs-child");t[3]&&setTimeout(function(){d[i].focus()},300);d[i].addEventListener(t[1],function(n){var i=t[2];return i(k,y.toast,this,n)})}),y.toastBody.appendChild(y.inputs))}(),function(){v.buttons.length>0&&(y.buttons.classList.add(n+"-buttons"),i(v.buttons,function(t,i){y.buttons.appendChild(c(t[0]));var r=y.buttons.childNodes;r[i].classList.add(n+"-buttons-child");t[2]&&setTimeout(function(){r[i].focus()},300);r[i].addEventListener("click",function(n){n.preventDefault();var i=t[1];return i(k,y.toast,this,n,d)})}));y.toastBody.appendChild(y.buttons)}();v.message.length>0&&(v.inputs.length>0||v.buttons.length>0)&&(y.p.style.marginBottom="0");(v.inputs.length>0||v.buttons.length>0)&&(v.rtl?y.toastTexts.style.marginLeft="10px":y.toastTexts.style.marginRight="10px",v.inputs.length>0&&v.buttons.length>0&&(v.rtl?y.inputs.style.marginLeft="8px":y.inputs.style.marginRight="8px")),function(){y.toastCapsule.style.visibility="hidden";setTimeout(function(){var r=y.toast.offsetHeight,i=y.toast.currentStyle||window.getComputedStyle(y.toast),t=i.marginTop,n;t=t.split("px");t=parseInt(t[0]);n=i.marginBottom;n=n.split("px");n=parseInt(n[0]);y.toastCapsule.style.visibility="";y.toastCapsule.style.height=r+n+t+"px";setTimeout(function(){y.toastCapsule.style.height="auto";v.target&&(y.toastCapsule.style.overflow="visible")},500);v.timeout&&k.progress(v,y.toast).start()},100)}(),function(){var t=v.position;if(v.target)y.wrapper=document.querySelector(v.target),y.wrapper.classList.add(n+"-target"),v.targetFirst?y.wrapper.insertBefore(y.toastCapsule,y.wrapper.firstChild):y.wrapper.appendChild(y.toastCapsule);else{if(a.indexOf(v.position)==-1){console.warn("["+n+"] Incorrect position.\nIt can be › "+a);return}t=f||window.innerWidth<=o?v.position=="bottomLeft"||v.position=="bottomRight"||v.position=="bottomCenter"?n+"-wrapper-bottomCenter":v.position=="topLeft"||v.position=="topRight"||v.position=="topCenter"?n+"-wrapper-topCenter":n+"-wrapper-center":n+"-wrapper-"+t;y.wrapper=document.querySelector("."+n+"-wrapper."+t);y.wrapper||(y.wrapper=document.createElement("div"),y.wrapper.classList.add(n+"-wrapper"),y.wrapper.classList.add(t),document.body.appendChild(y.wrapper));v.position=="topLeft"||v.position=="topCenter"||v.position=="topRight"?y.wrapper.insertBefore(y.toastCapsule,y.wrapper.firstChild):y.wrapper.appendChild(y.toastCapsule)}isNaN(v.zindex)?console.warn("["+n+"] Invalid zIndex."):y.wrapper.style.zIndex=v.zindex}(),function(){v.overlay&&(document.querySelector("."+n+"-overlay.fadeIn")!==null?(y.overlay=document.querySelector("."+n+"-overlay"),y.overlay.setAttribute("data-iziToast-ref",y.overlay.getAttribute("data-iziToast-ref")+","+v.ref),isNaN(v.zindex)||v.zindex===null||(y.overlay.style.zIndex=v.zindex-1)):(y.overlay.classList.add(n+"-overlay"),y.overlay.classList.add("fadeIn"),y.overlay.style.background=v.overlayColor,y.overlay.setAttribute("data-iziToast-ref",v.ref),isNaN(v.zindex)||v.zindex===null||(y.overlay.style.zIndex=v.zindex-1),document.querySelector("body").appendChild(y.overlay)),v.overlayClose?(y.overlay.removeEventListener("click",{}),y.overlay.addEventListener("click",function(){k.hide(v,y.toast,"overlay")})):y.overlay.removeEventListener("click",{}))}(),function(){var r,t;v.animateInside&&(y.toast.classList.add(n+"-animateInside"),r=[200,100,300],(v.transitionIn=="bounceInLeft"||v.transitionIn=="bounceInRight")&&(r=[400,200,400]),v.title.length>0&&setTimeout(function(){y.strong.classList.add("slideIn")},r[0]),v.message.length>0&&setTimeout(function(){y.p.classList.add("slideIn")},r[1]),(v.icon||v.iconUrl)&&setTimeout(function(){y.icon.classList.add("revealIn")},r[2]),t=150,v.buttons.length>0&&y.buttons&&setTimeout(function(){i(y.buttons.childNodes,function(n){setTimeout(function(){n.classList.add("revealIn")},t);t=t+150})},v.inputs.length>0?150:0),v.inputs.length>0&&y.inputs&&(t=150,i(y.inputs.childNodes,function(n){setTimeout(function(){n.classList.add("revealIn")},t);t=t+150})))}();v.onOpening.apply(null,[v,y.toast]);try{g=new CustomEvent(n+"-opening",{detail:v,bubbles:!0,cancelable:!0});document.dispatchEvent(g)}catch(nt){console.warn(nt)}setTimeout(function(){y.toast.classList.remove(n+"-opening");y.toast.classList.add(n+"-opened");try{var t=new CustomEvent(n+"-opened",{detail:v,bubbles:!0,cancelable:!0});document.dispatchEvent(t)}catch(i){console.warn(i)}v.onOpened.apply(null,[v,y.toast])},1e3);v.drag&&(e?(y.toast.addEventListener("touchstart",function(n){u.startMoving(this,k,v,n)},!1),y.toast.addEventListener("touchend",function(n){u.stopMoving(this,n)},!1)):(y.toast.addEventListener("mousedown",function(n){n.preventDefault();u.startMoving(this,k,v,n)},!1),y.toast.addEventListener("mouseup",function(n){n.preventDefault();u.stopMoving(this,n)},!1)));v.closeOnEscape&&document.addEventListener("keyup",function(n){n=n||window.event;n.keyCode==27&&k.hide(v,y.toast,"esc")});v.closeOnClick&&y.toast.addEventListener("click",function(){k.hide(v,y.toast,"toast")});k.toast=y.toast},t});